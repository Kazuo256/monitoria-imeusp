
<h1>Pedido de monitor</h1>
<hr>

<% if notice %>
  <p id="notice"><%= notice %></p>
  <hr>
<% end %>

<p>
  <strong><%= t('activerecord.attributes.professor.professor') + ':' %></strong>
  <%= Professor.find(@request_for_teaching_assistant.professor_id).name %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.subject') + ':' %></strong>
  <%= @request_for_teaching_assistant.course.course_code + " - " + @request_for_teaching_assistant.course.name %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.requested_number') + ':' %></strong>
  <%= @request_for_teaching_assistant.requested_number %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.priority') + ':' %></strong>
  <%= priorityOptions()[@request_for_teaching_assistant.priority][0] %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.student_assistance') + ':' %></strong>
  <%= show_yes_or_no(@request_for_teaching_assistant.student_assistance) %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.work_correction') + ':' %></strong>
  <%= show_yes_or_no(@request_for_teaching_assistant.work_correction) %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.test_oversight') + ':' %></strong>
  <%= show_yes_or_no(@request_for_teaching_assistant.test_oversight) %>
</p>

<p>
  <strong><%= t('activerecord.attributes.request_for_teaching_assistant.observation') + ':' %></strong>
  <%= (@request_for_teaching_assistant.observation) %>
</p>

<% if @request_for_teaching_assistant.semester.open %>
  <%= link_to 'Editar', edit_request_for_teaching_assistant_path(@request_for_teaching_assistant) %>
  <%= link_to 'Remover', @request_for_teaching_assistant, method: :delete, data: { confirm: 'Tem certeza?' } %>
<% end %>

<%= link_to 'Voltar', request_for_teaching_assistants_path %>
<span style="height: 2em; display: block;"></span>
<hr>

<% if @chosen_roles.any? %>
  <table>
    <thead>
      <tr>
        <th colspan="2">Monitores eleitos para essa solicitação</th>
      </tr>
    </thead>
    <tbody>
      <% @chosen_roles.each do |role| %>
        <tr>
          <td class="name"><%= role.student.name %></td>
          <td><%= link_to 'Ver dados', role.student.user %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <hr>
<% end %>

<% if (not @candidatures_for_this_request.nil? or not @candidatures_for_this_department.nil?) and (secretary_signed_in? or (user_signed_in? and current_user.super_professor?)) %>
  <table>
    <thead>
      <tr>
        <th>Alunos que se candidataram para essa disciplina</th>
        <th colspan="2"></th>
      </tr>
    </thead>

    <tbody>
      <% @candidatures_for_this_request.each do |candidature| %>
        <tr>
          <td><%= candidature.student.name %></td>
          <td><%= link_to 'Ver candidatura', candidature %></td>
          <td><%= link_to 'Eleger', create_assistant_role_path(@request_for_teaching_assistant, candidature.student), method: :post %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <table>
    <thead>
      <tr>
        <th>Alunos que se candidataram para disciplinas deste mesmo departamento</th>
        <th colspan="2"></th>
      </tr>
    </thead>

    <tbody>
      <% @candidatures_for_this_department.each do |candidature| %>
        <tr>
          <td><%= candidature.student.name %></td>
          <td><%= link_to 'Ver candidatura', candidature %></td>
          <td><%= link_to 'Eleger', create_assistant_role_path(@request_for_teaching_assistant, candidature.student), method: :post %></td>
        </tr>
      <% end %>
    </tbody>

  </table>
  <hr>
<% end %>
