<script type="text/javascript">
  function institute_selected() {
    select_box = document.getElementById("student_institute")
    if (select_box.selectedIndex == (select_box.length-1)) {
      $("#other_institute").removeClass("hidden")
      $("#institute_note").removeClass("hidden")
    } else {
      $("#other_institute").addClass("hidden")
      $("#institute_note").addClass("hidden")
    }
  }
</script>

<%= form_for @student, html: { role: "form" } do |f| %>

  <% if @student.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@student.errors.count, "erro impediu", "erros impediram") %> esse aluno de ser salvo:</h2>

      <ul>
      <% @student.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col-xs-5 col-sm-5 col-xs-5 col-md-5">
      <!-- RG -->
      <div class="form-group">
        <%= f.label :rg, t('activerecord.attributes.student.rg') %> 
        <%= f.text_field :rg, class: "form-control" %>
      </div>
      <!-- CPF -->
      <div class="form-group">
        <%= f.label :cpf, t('activerecord.attributes.student.cpf') %> 
        <%= f.text_field :cpf, class: "form-control" %>
      </div>
      <!-- GÃªnero -->
      <p <%= t('activerecord.attributes.student.gender') %> </p>
      <% genderOptions.each do | option | %>
        <div class="radio">
          <%= f.label :gender do %>
            <%= f.radio_button :gender, option[1] %>
            <%= option[0] %>
          <% end %>
        </div>
      <% end %>
      <!-- Telefones -->
      <div class="form-group">
        <%= f.label :tel, t('activerecord.attributes.student.tel') %> 
        <%= f.telephone_field :tel, class: "form-control" %>
        <span class="help-block"><%= t('activerecord.attributes.student.tel_note') %></span>
      </div>
      <div class="form-group">
        <%= f.label :cel, t('activerecord.attributes.student.cel') %>
        <%= f.telephone_field :cel, class: "form-control" %>
        <span class="help-block"> <%= t('activerecord.attributes.student.cel_note') %></span>
      </div>
      <!-- Conta no BB -->
      <p><%= f.label :has_bank_account, t('activerecord.attributes.student.has_bank_account') %></p>
      <% yesOrNo.each do | option | %>
        <%= f.label :has_bank_account, class: "radio-inline" do %>
          <%= f.radio_button :has_bank_account, option[1] %>
          <%= option[0] %>
        <% end %>
      <% end %>
    </div>
    <div class="col-xs-5 col-sm-5 col-xs-5 col-md-5">
      <div class="form-group">
        <%= f.label :institute, t('activerecord.attributes.student.institute') %>
        <%= f.select :institute, institute_options, {}, { class: "form-control", onchange: "institute_selected()" } %>
        <span class="help-block hidden" id="institute_note"> <%= t('activerecord.attributes.student.other_institute') %></span>
      </div>
      <div class="form-group hidden" id="other_institute">
        <%= f.text_field :institute_text, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :address, t('activerecord.attributes.student.address') %> <br>
        <%= f.text_field :address, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :complement, t('activerecord.attributes.student.complement') %> 
        <%= f.text_field :complement, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :district, t('activerecord.attributes.student.district') %> 
        <%= f.text_field :district, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :zipcode, t('activerecord.attributes.student.zipcode') %> 
        <%= f.text_field :zipcode, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :city, t('activerecord.attributes.student.city') %> 
        <%= f.text_field :city, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.label :state, t('activerecord.attributes.student.state') %> 
        <%= f.text_field :state, class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-8 text-center">
      <div class="field">
        <%= f.submit "Salvar", class: "btn btn-primary btn-md" %>
      </div>
    </div>
  </div>
<% end %>
